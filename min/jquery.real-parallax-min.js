!function(t){function i(i,n){function o(t){var i=document.getElementById("l");i.innerHTML=t}var a=this,s=jQuery.extend({},{width:i.width(),height:i.height(),enableMouse:!0,activateOnClick:!1,sensitivityX:.5,sensitivityY:.4,easingCoefficient:7,autoZCoordinate:!0,useCustomZ:!0,focusZ:0},n),r=0,f=0,u=0,c=0,h,l,d,p=-1,v=-1,y=new Array,g=new Array,m=!1,b=!1,w,x=function(){i.width(s.width),i.height(s.height),h=i.children("div"),l=h.length,d=new Array,w=i.css("position"),"static"==w&&i.css("position","relative"),h.css("padding","0"),h.css("margin","0"),h.css("position","absolute"),C(),A(),k(),N(),"static"==w&&i.css("position","static")},C=function(){for(var e=i.offset(),n=0;l>n;n++){d[n]={};var o=parseFloat(jQuery(h[n]).data("z"));isNaN(o)||(d[n].z=o);var a=jQuery(h[n]).data("lock");void 0!=a?("string"==typeof a&&(a=a.replace(/^\s+|\s+$/g,"").toLowerCase()),"false"!=a&&0!=a&&"no"!=a&&(d[n].locked=!0)):d[n].locked=!1;var s=jQuery(h[n]).attr("id");void 0!=s&&(d[n].id=s);var r=t(h[n]).offset();d[n].x=r.left-e.left,d[n].y=r.top-e.top,O(n,d[n].x,d[n].y)}},k=function(){for(var t=100,i=-2*t/l,e=0;l>e;e++)1==s.autoZCoordinate?s.useCustomZ&&void 0!=d[e].z?d[e].z=d[e].z:(d[e].z=t,t+=i):void 0==d[e].z&&(d[e].z=s.focusZ)},N=function(){i.unbind("mousemove",T),i.unbind("mousedown",T),1==s.enableMouse&&(1==s.activateOnClick?i.bind("mousedown",T):i.bind("mousemove",T))},z=function(t){return t==String("false")||t==String("no")?!1:t==String("true")||t==String("yes")?!0:parseFloat(t)},M=function(t){return"auto"!=t?parseFloat(t):0},T=function(e){if(0!=s.sensitivityX){var n=t("html").scrollLeft();n||(n=t("body").scrollLeft());var u=e.clientX-i.offset().left+n;u>s.width?u=s.width:0>u&&(u=0),r=u-s.width/2}if(0!=s.sensitivityY){var n=t("html").scrollTop();n||(n=t("body").scrollTop());var c=e.clientY-i.offset().top+n;c>s.height?c=s.height:0>c&&(c=0),f=c-s.height/2}o(""),1==m&&a.stopChain(),F(),X("mouseToRatio",{x:u/s.width,y:c/s.height})},F=function(){Z(),-1==p&&(p=setInterval(Q,20))},j=function(){clearInterval(p),p=-1},Z=function(){-1!=v&&(clearTimeout(v),v=-1)},O=function(t,i,e){h[t].style.left=i+"px",h[t].style.top=e+"px"},Q=function(){var t=r-u,i=f-c;Math.abs(t)<1&&Math.abs(i)<1&&(j(),L()),u+=t/(1+s.easingCoefficient),c+=i/(1+s.easingCoefficient);for(var e=0;l>e;e++)if(1!=d[e].locked){var n=.01*(d[e].z-s.focusZ);O(e,d[e].x-u*s.sensitivityX*n,d[e].y-c*s.sensitivityY*n)}},A=function(){for(var i=0;l>i;i++)t(h[i]).find(">img").hide().one("load",function(){t(this).fadeIn(800,function(){this.style.removeAttribute("filter")})}).each(function(){this.complete&&this.width>0&&t(this).trigger("load")})},I=function(){if(y.length>0){var t=y.shift();return 1==b&&y.push(t),t}return!1},L=function(){1==m&&a.startChain(b)},X=function(i,n){if(g.length>0)for(var o=0;o<g.length;o++)t("#"+g[o])[e](i,n)};this.option=function(t,i){if("undefined"!=typeof t)if(t=t.replace(/^\s+|\s+$/g,""),"enableMouse"==t||"activateOnClick"==t){if("undefined"==typeof i)return s[t];s[t]=Boolean(i),N(),"enableMouse"==t&&L()}else if(void 0!=s[t]){if("undefined"==typeof i||isNaN(parseFloat(i)))return s[t];s[t]=parseFloat(i)}},this.layer=function(t,i){if("undefined"!=typeof t){var e=0,n=l,o=!isNaN(parseInt(t));o&&(e=Math.min(parseInt(t),l-1),n=e+1);for(var a=e;n>a;a++)if(1==o||d[a].id==t){if("undefined"==typeof i)return d[a];void 0!=i.x&&(d[a].x=i.x),void 0!=i.y&&(d[a].y=i.y),void 0!=i.z&&(d[a].z=i.z),void 0!=i.locked&&(d[a].locked=Boolean(i.locked)),Q();break}}},this.toggleMouse=function(){s.enableMouse=!s.enableMouse,N(),L()},this.pause=function(t){-1!=p?(j(),t>0&&(Z(),v=setTimeout(F,t))):1==m&&(Z(),v=setTimeout(L,t))},this.update=function(){Q()},this.unpause=function(){F()},this.triggerPause=function(){-1!=p?j():F()},this.stop=function(){r=u,f=c,L()},this.mouseTo=function(t){var i=r,e=f;"object"==typeof t&&(isNaN(parseFloat(t.x))||(i=t.x-s.width/2),isNaN(parseFloat(t.y))||(e=t.y-s.height/2)),r=i,f=e,F()},this.mouseToRatio=function(t){r=(t.x-.5)*s.width,f=(t.y-.5)*s.height,F()},this.mouseToRandom=function(){r=(.5-Math.random())*s.width,f=(.5-Math.random())*s.height,F()},this.reset=function(){r=0,f=0,F()},this.centerTo=function(t){var i=r,e=f;if("object"==typeof t&&"undefined"!=typeof t.id&&""!=t.id)for(var n=0;l>n;n++)if(d[n].id==t.id){var o=.01*(d[n].z-s.focusZ);if(0!=o){var a=1,u=1,c=0,p=0;"undefined"!=typeof t.align&&""!=t.align&&(t.align=t.align.toLowerCase(),-1!=t.align.indexOf("l")?a=0:-1!=t.align.indexOf("r")&&(a=2),-1!=t.align.indexOf("t")?u=0:-1!=t.align.indexOf("b")&&(u=2)),isNaN(parseFloat(t.offx))||(c=parseFloat(t.offx)),isNaN(parseFloat(t.offy))||(p=parseFloat(t.offy)),0!=s.sensitivityX&&(i=(d[n].x-c-.5*(s.width-a*jQuery(h[n]).width()))/(o*s.sensitivityX)),0!=s.sensitivityY&&(e=(d[n].y-p-.5*(s.height-u*jQuery(h[n]).height()))/(o*s.sensitivityY))}break}r=i,f=e,F()},this.addToChain=function(){void 0!=arguments[0]&&y.push(void 0!=arguments[1]?{method:arguments[0],parameters:arguments[1]}:{method:arguments[0]})},this.clearChain=function(){y=[]},this.startChain=function(t){b=Boolean(t),m=!0,action=I(),0!=action?void 0!=action.parameters?a[action.method](action.parameters):a[action.method]():m=!1},this.stopChain=function(){m=!1,Z(),-1!=p&&j()},this.linkWith=function(){var t=Array.prototype.slice.apply(arguments);g.push(t)},this.resetLinks=function(){g=[]},x()}var e="parallax";t.fn[e]=function(n){var o=arguments,a,s;if(0==this.length)return!1;if(a=t(this),s=a.data(e)){if(s[n])return s[n].apply(this,Array.prototype.slice.call(o,1))}else if("object"==typeof n||!n)return a.data(e,new i(a,n))}}(jQuery);